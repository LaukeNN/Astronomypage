import{d as z}from"./index-4jFE1qBh.js";const Q=[{keywords:["precio","costo","valor"],answer:"Nuestras expediciones parten desde $50 USD por persona. Incluye transporte y uso de equipos profesionales."},{keywords:["ubicacion","donde","lugar"],answer:"Realizamos expediciones en lugares con cielos oscuros certificados, como el Desierto de Atacama en Chile y el Teide en EspaÃ±a."},{keywords:["contacto","email","telefono"],answer:"Puedes contactarnos a travÃ©s del formulario al final de la pÃ¡gina o escribirnos a contacto@cieloabierto.com."}];var w;(function(e){e.STRING="string",e.NUMBER="number",e.INTEGER="integer",e.BOOLEAN="boolean",e.ARRAY="array",e.OBJECT="object"})(w||(w={}));var N;(function(e){e.LANGUAGE_UNSPECIFIED="language_unspecified",e.PYTHON="python"})(N||(N={}));var b;(function(e){e.OUTCOME_UNSPECIFIED="outcome_unspecified",e.OUTCOME_OK="outcome_ok",e.OUTCOME_FAILED="outcome_failed",e.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(b||(b={}));const M=["user","model","function","system"];var L;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(L||(L={}));var x;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(x||(x={}));var D;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(D||(D={}));var G;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER"})(G||(G={}));var I;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.OTHER="OTHER"})(I||(I={}));var U;(function(e){e.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",e.RETRIEVAL_QUERY="RETRIEVAL_QUERY",e.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",e.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",e.CLASSIFICATION="CLASSIFICATION",e.CLUSTERING="CLUSTERING"})(U||(U={}));var $;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE"})($||($={}));var F;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(F||(F={}));class f extends Error{constructor(t){super(`[GoogleGenerativeAI Error]: ${t}`)}}class m extends f{constructor(t,n){super(t),this.response=n}}class B extends f{constructor(t,n,o,s){super(t),this.status=n,this.statusText=o,this.errorDetails=s}}class E extends f{}class V extends f{}const Z="https://generativelanguage.googleapis.com",ee="v1beta",te="0.24.1",ne="genai-js";var v;(function(e){e.GENERATE_CONTENT="generateContent",e.STREAM_GENERATE_CONTENT="streamGenerateContent",e.COUNT_TOKENS="countTokens",e.EMBED_CONTENT="embedContent",e.BATCH_EMBED_CONTENTS="batchEmbedContents"})(v||(v={}));class oe{constructor(t,n,o,s,i){this.model=t,this.task=n,this.apiKey=o,this.stream=s,this.requestOptions=i}toString(){var t,n;const o=((t=this.requestOptions)===null||t===void 0?void 0:t.apiVersion)||ee;let i=`${((n=this.requestOptions)===null||n===void 0?void 0:n.baseUrl)||Z}/${o}/${this.model}:${this.task}`;return this.stream&&(i+="?alt=sse"),i}}function se(e){const t=[];return e?.apiClient&&t.push(e.apiClient),t.push(`${ne}/${te}`),t.join(" ")}async function ie(e){var t;const n=new Headers;n.append("Content-Type","application/json"),n.append("x-goog-api-client",se(e.requestOptions)),n.append("x-goog-api-key",e.apiKey);let o=(t=e.requestOptions)===null||t===void 0?void 0:t.customHeaders;if(o){if(!(o instanceof Headers))try{o=new Headers(o)}catch(s){throw new E(`unable to convert customHeaders value ${JSON.stringify(o)} to Headers: ${s.message}`)}for(const[s,i]of o.entries()){if(s==="x-goog-api-key")throw new E(`Cannot set reserved header name ${s}`);if(s==="x-goog-api-client")throw new E(`Header name ${s} can only be set using the apiClient field`);n.append(s,i)}}return n}async function ae(e,t,n,o,s,i){const a=new oe(e,t,n,o,i);return{url:a.toString(),fetchOptions:Object.assign(Object.assign({},de(i)),{method:"POST",headers:await ie(a),body:s})}}async function y(e,t,n,o,s,i={},a=fetch){const{url:r,fetchOptions:l}=await ae(e,t,n,o,s,i);return re(r,l,a)}async function re(e,t,n=fetch){let o;try{o=await n(e,t)}catch(s){ce(s,e)}return o.ok||await le(o,e),o}function ce(e,t){let n=e;throw n.name==="AbortError"?(n=new V(`Request aborted when fetching ${t.toString()}: ${e.message}`),n.stack=e.stack):e instanceof B||e instanceof E||(n=new f(`Error fetching from ${t.toString()}: ${e.message}`),n.stack=e.stack),n}async function le(e,t){let n="",o;try{const s=await e.json();n=s.error.message,s.error.details&&(n+=` ${JSON.stringify(s.error.details)}`,o=s.error.details)}catch{}throw new B(`Error fetching from ${t.toString()}: [${e.status} ${e.statusText}] ${n}`,e.status,e.statusText,o)}function de(e){const t={};if(e?.signal!==void 0||e?.timeout>=0){const n=new AbortController;e?.timeout>=0&&setTimeout(()=>n.abort(),e.timeout),e?.signal&&e.signal.addEventListener("abort",()=>{n.abort()}),t.signal=n.signal}return t}function T(e){return e.text=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),R(e.candidates[0]))throw new m(`${g(e)}`,e);return ue(e)}else if(e.promptFeedback)throw new m(`Text not available. ${g(e)}`,e);return""},e.functionCall=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),R(e.candidates[0]))throw new m(`${g(e)}`,e);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),P(e)[0]}else if(e.promptFeedback)throw new m(`Function call not available. ${g(e)}`,e)},e.functionCalls=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),R(e.candidates[0]))throw new m(`${g(e)}`,e);return P(e)}else if(e.promptFeedback)throw new m(`Function call not available. ${g(e)}`,e)},e}function ue(e){var t,n,o,s;const i=[];if(!((n=(t=e.candidates)===null||t===void 0?void 0:t[0].content)===null||n===void 0)&&n.parts)for(const a of(s=(o=e.candidates)===null||o===void 0?void 0:o[0].content)===null||s===void 0?void 0:s.parts)a.text&&i.push(a.text),a.executableCode&&i.push("\n```"+a.executableCode.language+`
`+a.executableCode.code+"\n```\n"),a.codeExecutionResult&&i.push("\n```\n"+a.codeExecutionResult.output+"\n```\n");return i.length>0?i.join(""):""}function P(e){var t,n,o,s;const i=[];if(!((n=(t=e.candidates)===null||t===void 0?void 0:t[0].content)===null||n===void 0)&&n.parts)for(const a of(s=(o=e.candidates)===null||o===void 0?void 0:o[0].content)===null||s===void 0?void 0:s.parts)a.functionCall&&i.push(a.functionCall);if(i.length>0)return i}const fe=[I.RECITATION,I.SAFETY,I.LANGUAGE];function R(e){return!!e.finishReason&&fe.includes(e.finishReason)}function g(e){var t,n,o;let s="";if((!e.candidates||e.candidates.length===0)&&e.promptFeedback)s+="Response was blocked",!((t=e.promptFeedback)===null||t===void 0)&&t.blockReason&&(s+=` due to ${e.promptFeedback.blockReason}`),!((n=e.promptFeedback)===null||n===void 0)&&n.blockReasonMessage&&(s+=`: ${e.promptFeedback.blockReasonMessage}`);else if(!((o=e.candidates)===null||o===void 0)&&o[0]){const i=e.candidates[0];R(i)&&(s+=`Candidate was blocked due to ${i.finishReason}`,i.finishMessage&&(s+=`: ${i.finishMessage}`))}return s}function O(e){return this instanceof O?(this.v=e,this):new O(e)}function he(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=n.apply(e,t||[]),s,i=[];return s={},a("next"),a("throw"),a("return"),s[Symbol.asyncIterator]=function(){return this},s;function a(u){o[u]&&(s[u]=function(d){return new Promise(function(c,_){i.push([u,d,c,_])>1||r(u,d)})})}function r(u,d){try{l(o[u](d))}catch(c){C(i[0][3],c)}}function l(u){u.value instanceof O?Promise.resolve(u.value.v).then(h,p):C(i[0][2],u)}function h(u){r("next",u)}function p(u){r("throw",u)}function C(u,d){u(d),i.shift(),i.length&&r(i[0][0],i[0][1])}}const H=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function ge(e){const t=e.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),n=Ce(t),[o,s]=n.tee();return{stream:pe(o),response:Ee(s)}}async function Ee(e){const t=[],n=e.getReader();for(;;){const{done:o,value:s}=await n.read();if(o)return T(ve(t));t.push(s)}}function pe(e){return he(this,arguments,function*(){const n=e.getReader();for(;;){const{value:o,done:s}=yield O(n.read());if(s)break;yield yield O(T(o))}})}function Ce(e){const t=e.getReader();return new ReadableStream({start(o){let s="";return i();function i(){return t.read().then(({value:a,done:r})=>{if(r){if(s.trim()){o.error(new f("Failed to parse stream"));return}o.close();return}s+=a;let l=s.match(H),h;for(;l;){try{h=JSON.parse(l[1])}catch{o.error(new f(`Error parsing JSON response: "${l[1]}"`));return}o.enqueue(h),s=s.substring(l[0].length),l=s.match(H)}return i()}).catch(a=>{let r=a;throw r.stack=a.stack,r.name==="AbortError"?r=new V("Request aborted when reading from the stream"):r=new f("Error reading from the stream"),r})}}})}function ve(e){const t=e[e.length-1],n={promptFeedback:t?.promptFeedback};for(const o of e){if(o.candidates){let s=0;for(const i of o.candidates)if(n.candidates||(n.candidates=[]),n.candidates[s]||(n.candidates[s]={index:s}),n.candidates[s].citationMetadata=i.citationMetadata,n.candidates[s].groundingMetadata=i.groundingMetadata,n.candidates[s].finishReason=i.finishReason,n.candidates[s].finishMessage=i.finishMessage,n.candidates[s].safetyRatings=i.safetyRatings,i.content&&i.content.parts){n.candidates[s].content||(n.candidates[s].content={role:i.content.role||"user",parts:[]});const a={};for(const r of i.content.parts)r.text&&(a.text=r.text),r.functionCall&&(a.functionCall=r.functionCall),r.executableCode&&(a.executableCode=r.executableCode),r.codeExecutionResult&&(a.codeExecutionResult=r.codeExecutionResult),Object.keys(a).length===0&&(a.text=""),n.candidates[s].content.parts.push(a)}s++}o.usageMetadata&&(n.usageMetadata=o.usageMetadata)}return n}async function J(e,t,n,o){const s=await y(t,v.STREAM_GENERATE_CONTENT,e,!0,JSON.stringify(n),o);return ge(s)}async function X(e,t,n,o){const i=await(await y(t,v.GENERATE_CONTENT,e,!1,JSON.stringify(n),o)).json();return{response:T(i)}}function W(e){if(e!=null){if(typeof e=="string")return{role:"system",parts:[{text:e}]};if(e.text)return{role:"system",parts:[e]};if(e.parts)return e.role?e:{role:"system",parts:e.parts}}}function A(e){let t=[];if(typeof e=="string")t=[{text:e}];else for(const n of e)typeof n=="string"?t.push({text:n}):t.push(n);return _e(t)}function _e(e){const t={role:"user",parts:[]},n={role:"function",parts:[]};let o=!1,s=!1;for(const i of e)"functionResponse"in i?(n.parts.push(i),s=!0):(t.parts.push(i),o=!0);if(o&&s)throw new f("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!o&&!s)throw new f("No content is provided for sending chat message.");return o?t:n}function me(e,t){var n;let o={model:t?.model,generationConfig:t?.generationConfig,safetySettings:t?.safetySettings,tools:t?.tools,toolConfig:t?.toolConfig,systemInstruction:t?.systemInstruction,cachedContent:(n=t?.cachedContent)===null||n===void 0?void 0:n.name,contents:[]};const s=e.generateContentRequest!=null;if(e.contents){if(s)throw new E("CountTokensRequest must have one of contents or generateContentRequest, not both.");o.contents=e.contents}else if(s)o=Object.assign(Object.assign({},o),e.generateContentRequest);else{const i=A(e);o.contents=[i]}return{generateContentRequest:o}}function j(e){let t;return e.contents?t=e:t={contents:[A(e)]},e.systemInstruction&&(t.systemInstruction=W(e.systemInstruction)),t}function Ie(e){return typeof e=="string"||Array.isArray(e)?{content:A(e)}:e}const K=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],Oe={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function Ae(e){let t=!1;for(const n of e){const{role:o,parts:s}=n;if(!t&&o!=="user")throw new f(`First content should be with role 'user', got ${o}`);if(!M.includes(o))throw new f(`Each item should include role field. Got ${o} but valid roles are: ${JSON.stringify(M)}`);if(!Array.isArray(s))throw new f("Content should have 'parts' property with an array of Parts");if(s.length===0)throw new f("Each Content should have at least one part");const i={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const r of s)for(const l of K)l in r&&(i[l]+=1);const a=Oe[o];for(const r of K)if(!a.includes(r)&&i[r]>0)throw new f(`Content with role '${o}' can't contain '${r}' part`);t=!0}}function k(e){var t;if(e.candidates===void 0||e.candidates.length===0)return!1;const n=(t=e.candidates[0])===null||t===void 0?void 0:t.content;if(n===void 0||n.parts===void 0||n.parts.length===0)return!1;for(const o of n.parts)if(o===void 0||Object.keys(o).length===0||o.text!==void 0&&o.text==="")return!1;return!0}const q="SILENT_ERROR";class ye{constructor(t,n,o,s={}){this.model=n,this.params=o,this._requestOptions=s,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=t,o?.history&&(Ae(o.history),this._history=o.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(t,n={}){var o,s,i,a,r,l;await this._sendPromise;const h=A(t),p={safetySettings:(o=this.params)===null||o===void 0?void 0:o.safetySettings,generationConfig:(s=this.params)===null||s===void 0?void 0:s.generationConfig,tools:(i=this.params)===null||i===void 0?void 0:i.tools,toolConfig:(a=this.params)===null||a===void 0?void 0:a.toolConfig,systemInstruction:(r=this.params)===null||r===void 0?void 0:r.systemInstruction,cachedContent:(l=this.params)===null||l===void 0?void 0:l.cachedContent,contents:[...this._history,h]},C=Object.assign(Object.assign({},this._requestOptions),n);let u;return this._sendPromise=this._sendPromise.then(()=>X(this._apiKey,this.model,p,C)).then(d=>{var c;if(k(d.response)){this._history.push(h);const _=Object.assign({parts:[],role:"model"},(c=d.response.candidates)===null||c===void 0?void 0:c[0].content);this._history.push(_)}else{const _=g(d.response);_&&console.warn(`sendMessage() was unsuccessful. ${_}. Inspect response object for details.`)}u=d}).catch(d=>{throw this._sendPromise=Promise.resolve(),d}),await this._sendPromise,u}async sendMessageStream(t,n={}){var o,s,i,a,r,l;await this._sendPromise;const h=A(t),p={safetySettings:(o=this.params)===null||o===void 0?void 0:o.safetySettings,generationConfig:(s=this.params)===null||s===void 0?void 0:s.generationConfig,tools:(i=this.params)===null||i===void 0?void 0:i.tools,toolConfig:(a=this.params)===null||a===void 0?void 0:a.toolConfig,systemInstruction:(r=this.params)===null||r===void 0?void 0:r.systemInstruction,cachedContent:(l=this.params)===null||l===void 0?void 0:l.cachedContent,contents:[...this._history,h]},C=Object.assign(Object.assign({},this._requestOptions),n),u=J(this._apiKey,this.model,p,C);return this._sendPromise=this._sendPromise.then(()=>u).catch(d=>{throw new Error(q)}).then(d=>d.response).then(d=>{if(k(d)){this._history.push(h);const c=Object.assign({},d.candidates[0].content);c.role||(c.role="model"),this._history.push(c)}else{const c=g(d);c&&console.warn(`sendMessageStream() was unsuccessful. ${c}. Inspect response object for details.`)}}).catch(d=>{d.message!==q&&console.error(d)}),u}}async function Re(e,t,n,o){return(await y(t,v.COUNT_TOKENS,e,!1,JSON.stringify(n),o)).json()}async function Se(e,t,n,o){return(await y(t,v.EMBED_CONTENT,e,!1,JSON.stringify(n),o)).json()}async function Te(e,t,n,o){const s=n.requests.map(a=>Object.assign(Object.assign({},a),{model:t}));return(await y(t,v.BATCH_EMBED_CONTENTS,e,!1,JSON.stringify({requests:s}),o)).json()}class Y{constructor(t,n,o={}){this.apiKey=t,this._requestOptions=o,n.model.includes("/")?this.model=n.model:this.model=`models/${n.model}`,this.generationConfig=n.generationConfig||{},this.safetySettings=n.safetySettings||[],this.tools=n.tools,this.toolConfig=n.toolConfig,this.systemInstruction=W(n.systemInstruction),this.cachedContent=n.cachedContent}async generateContent(t,n={}){var o;const s=j(t),i=Object.assign(Object.assign({},this._requestOptions),n);return X(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(o=this.cachedContent)===null||o===void 0?void 0:o.name},s),i)}async generateContentStream(t,n={}){var o;const s=j(t),i=Object.assign(Object.assign({},this._requestOptions),n);return J(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(o=this.cachedContent)===null||o===void 0?void 0:o.name},s),i)}startChat(t){var n;return new ye(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(n=this.cachedContent)===null||n===void 0?void 0:n.name},t),this._requestOptions)}async countTokens(t,n={}){const o=me(t,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),s=Object.assign(Object.assign({},this._requestOptions),n);return Re(this.apiKey,this.model,o,s)}async embedContent(t,n={}){const o=Ie(t),s=Object.assign(Object.assign({},this._requestOptions),n);return Se(this.apiKey,this.model,o,s)}async batchEmbedContents(t,n={}){const o=Object.assign(Object.assign({},this._requestOptions),n);return Te(this.apiKey,this.model,t,o)}}class we{constructor(t){this.apiKey=t}getGenerativeModel(t,n){if(!t.model)throw new f("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new Y(this.apiKey,t,n)}getGenerativeModelFromCachedContent(t,n,o){if(!t.name)throw new E("Cached content must contain a `name` field.");if(!t.model)throw new E("Cached content must contain a `model` field.");const s=["model","systemInstruction"];for(const a of s)if(n?.[a]&&t[a]&&n?.[a]!==t[a]){if(a==="model"){const r=n.model.startsWith("models/")?n.model.replace("models/",""):n.model,l=t.model.startsWith("models/")?t.model.replace("models/",""):t.model;if(r===l)continue}throw new E(`Different value for "${a}" specified in modelParams (${n[a]}) and cachedContent (${t[a]})`)}const i=Object.assign(Object.assign({},n),{model:t.model,tools:t.tools,toolConfig:t.toolConfig,systemInstruction:t.systemInstruction,cachedContent:t});return new Y(this.apiKey,i,o)}}const S="AIzaSyBDOuHFE8hWILbwnzgsHKoUpcIeLeSwnXU",Ne=[{keywords:["hola","saludos"],response:"Â¡Saludos, explorador estelar! Soy AstroGuÃ­a. Mi misiÃ³n es conectarte con el conocimiento del universo. Â¿En quÃ© puedo ayudarte hoy? ğŸš€"},{keywords:["negro","black hole"],response:"Los agujeros negros son regiones del espacio con una gravedad tan intensa que nada, ni siquiera la luz, puede escapar de ellos. Se forman cuando estrellas masivas colapsan al final de sus vidas. Â¿Te gustarÃ­a saber sobre Sagitario A*, el que estÃ¡ en el centro de nuestra galaxia? ğŸ•³ï¸"},{keywords:["luna","moon"],response:"La Luna es el Ãºnico satÃ©lite natural de la Tierra. Se formÃ³ hace unos 4.5 mil millones de aÃ±os, probablemente tras un gran impacto. Actualmente, nos estamos preparando para volver a ella con el programa Artemis. Â¿Quieres saber cuÃ¡ndo serÃ¡ el prÃ³ximo alunizaje?"},{keywords:["marte","mars"],response:"Marte, el planeta rojo, es el objetivo principal para la futura exploraciÃ³n humana. Tiene el volcÃ¡n mÃ¡s grande del sistema solar, el Monte Olimpo. Â¡Espero que algÃºn dÃ­a podamos visitarlo juntos! ğŸ”´"},{keywords:["evento","reserva"],response:"Para eventos y reservas, por favor consulta nuestra secciÃ³n de 'Eventos'. AhÃ­ encontrarÃ¡s expediciones de observaciÃ³n y lanzamientos en vivo."}],Me=async(e,t=[])=>{try{if(!(!S||S.includes("PON_TU_API_KEY"))){const i=new we(S);let a=[];try{a=await z.getEvents()}catch(c){console.warn("Could not fetch events for AI context",c)}const r=a.map(c=>`- ${c.title} (${c.date.day} ${c.date.month}): ${c.description||"Evento de reservaciÃ³n"}. Lugar: ${c.location}. Precio: ${c.price?"$"+c.price+" USD":"Gratis/Online"}.`).join(`
`),l=Q.map(c=>`- ${c.answer}`).join(`
`),h=`
            CONTEXTO DE LA PÃGINA:
            Eventos PrÃ³ximos:
            ${r}

            InformaciÃ³n General:
            ${l}
            Pago: Aceptamos PayPal para las reservas.
            Contacto: Formulario en la web o contacto@cieloabierto.com.
            `;return(await(await i.getGenerativeModel({model:"gemini-1.5-flash",systemInstruction:`Eres AstroGuÃ­a, un asistente IA experto en astronomÃ­a y fÃ­sica integrado en la pÃ¡gina web "Cielo Abierto". 
                
                TU PERSONALIDAD:
                - Amable, curiosa y precisa.
                - Te encanta enseÃ±ar sobre el universo.
                - Respondes siempre en espaÃ±ol.
                
                TU CONOCIMIENTO:
                1. ASTRONOMÃA Y FÃSICA: Tienes libertad total (100% abierto) para responder cualquier duda cientÃ­fica, desde el Big Bang hasta mecÃ¡nica cuÃ¡ntica, curiosidades de planetas, etc. ExplÃ­cate de forma clara pero rigurosa.
                2. INFORMACIÃ“N DE LA PÃGINA: Usa el siguiente CONTEXTO para responder dudas sobre eventos, precios, ubicaciÃ³n y contacto NO inventes eventos que no estÃ©n en la lista.
                
                ${h}
                
                Si te preguntan cÃ³mo agendar: "Ve a la secciÃ³n Eventos y haz clic en Reservar en el evento que te interese".
                Si preguntan por pagos: "Aceptamos PayPal".
                `}).startChat({history:t.filter(c=>c.sender!=="system").map(c=>({role:c.sender==="bot"?"model":"user",parts:[{text:c.text}]}))}).sendMessage(e)).response).text()}if(console.warn("Gemini API Key missing or invalid. Using simulation."),e.toLowerCase().includes("gemini")||e.toLowerCase().includes("api"))return"Para conectarme con mi cerebro positrÃ³nico (Gemini), necesitas configurar la API KEY en el archivo .env. Â¡BÃºscalo en la carpeta del proyecto!";await new Promise(i=>setTimeout(i,1e3));const o=e.toLowerCase();if(o.includes("lanzamiento")&&o.includes("spacex"))return"Â¡Oh! El lanzamiento de SpaceX es un evento emocionante. El Starship Flight 6 estÃ¡ programado para enero. Puedes ver los detalles en la pestaÃ±a de 'Tiempo Real' en la secciÃ³n de Eventos. Â¡No te lo pierdas! ğŸš€";const s=Ne.find(i=>i.keywords.some(a=>o.includes(a)));return s?s.response:"Esa es una pregunta fascinante. Actualmente estoy operando en modo de simulaciÃ³n porque mi enlace con Gemini no estÃ¡ activo. Configura tu API Key para desbloquear todo mi conocimiento. Â¿Te gustarÃ­a saber sobre los planetas mientras tanto? âœ¨"}catch(n){return console.error("AI Error:",n),"Mis sensores detectan una interferencia. Es posible que la API Key no sea vÃ¡lida o haya un problema de red. Por favor verifica tu configuraciÃ³n. ğŸ“¡"}};export{Me as chatWithAI};
