
# Guía de Configuración del Backend (Base de Datos y Pagos)

¡Tu proyecto ahora tiene un sistema completo de Base de Datos, Autenticación y Pagos!

Por defecto, el proyecto funciona en **"Modo Demo"** utilizando el almacenamiento local de tu navegador. Esto significa que puedes probar registro, login y reservas inmediatamente sin configurar nada extra.

Para llevar tu proyecto a producción, sigue estos pasos:

## 1. Base de Datos y Autenticación (Supabase)

Usamos Supabase para la base de datos real.

1.  Ve a [https://supabase.com/](https://supabase.com/) y crea una cuenta gratuita.
2.  Crea un "New Project".
3.  Una vez creado, ve a **Project Settings > API**.
4.  Copia la `URL` y la `anon public key`.
5.  Crea un archivo `.env` en la raiz de tu proyecto (junto a `package.json`) y agrega:

```env
VITE_SUPABASE_URL=tu_url_aqui
VITE_SUPABASE_ANON_KEY=tu_clave_anon_aqui
```

6.  En Supabase, ve a **SQL Editor** y ejecuta este script para crear las tablas necesarias:

```sql
-- Tabla de Eventos
create table events (
  id bigint generated by default as identity primary key,
  title text,
  date_day text,
  date_month text,
  location text,
  time text,
  slots int,
  price int,
  image_url text
);

-- Tabla de Registros
create table registrations (
  id bigint generated by default as identity primary key,
  user_id uuid references auth.users not null,
  event_id bigint references events not null,
  created_at timestamp with time zone default timezone('utc'::text, now()) not null
);

-- Insertar datos de ejemplo
insert into events (title, date_day, date_month, location, time, slots, price)
values 
('Observación de Júpiter y Saturno', '12', 'OCT', 'Desierto de Atacama, Chile', '22:00 - 04:00', 5, 50),
('Expedición: Lluvia de Estrellas', '15', 'NOV', 'Parque Nacional del Teide', '23:00 - 05:00', 12, 75),
('Taller de Astrofotografía Nocturna', '02', 'DIC', 'Sierra Nevada, España', '20:00 - 02:00', 3, 120);
```

## 2. Pagos (PayPal)

Actualmente el botón de pago está en modo "Sandbox" (Prueba).

1.  Ve a [Developer PayPal](https://developer.paypal.com/).
2.  Crea una App en "My Apps & Credentials".
3.  Obtén tu **Client ID**.
4.  En el archivo `src/components/PayPalButton.jsx`, cambia `"test"` por `import.meta.env.VITE_PAYPAL_CLIENT_ID` y agrégalo a tu `.env`.

## 3. Chatbot IA

El chatbot actual usa una base de conocimientos local (`src/data/knowledgeBase.js`). Para hacerlo aún más inteligente, puedes agregar más preguntas y respuestas en ese archivo.

¡Listo! Ya tienes una aplicación Web3 profesional.
